#include <SimpleDHT.h> 
#include <Servo.h> 
#include <Wire.h> 
#include <LiquidCrystal_I2C.h> 
int val=0;
int pinDHT11 = 3; 
int initialtemp=0; 
bool first=true; 
SimpleDHT11 dht11(pinDHT11); 
LiquidCrystal_I2C lcd(0x27,16,2);
void setup() 
{ 
  lcd.init(); // initialize the lcd 
  lcd.init();
  lcd.backlight();
  Serial.begin(9600); 
  pinMode(3,INPUT);
  pinMode(11,OUTPUT); 
}
void loop()
{ // read without samples. 
  byte temperature = 0;
  byte humidity = 0; 
  int err = SimpleDHTErrSuccess; 
  if ((err = dht11.read(&temperature, &humidity, NULL))!= SimpleDHTErrSuccess)
 { 
    Serial.print("Read DHT11 failed, err="); 
    Serial.print(SimpleDHTErrCode(err)); 
    Serial.print(","); 
    Serial.println(SimpleDHTErrDuration(err)); 
    delay(1000); 
    return; 
 } 
  Serial.print(" "); 
  if(first ==true){initialtemp=(int)temperature; 
  first=false;
 } 
 Serial.print((int)temperature); 
 Serial.print(" *C, "); 
 Serial.print((int)humidity);
 Serial.println(" H"); 
 lcd.setCursor(0,0); 
 lcd.print("Temp: " ); 
 lcd.print((int)temperature);
 lcd.print(" C"); 
 lcd.setCursor(0,1); 
 lcd.print("Humidity: " ); 
 lcd.print((int)humidity);
 lcd.print(" H"); 
 val= map((int)temperature,initialtemp,35,80,255); 
 analogWrite(11,val); 
   delay(500); 
} 